<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pharma Book - Prescri√ß√£o Farmac√™utica</title>
    <script src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
            background: #f5f5f5;
            color: #333;
        }

        .app-container {
            max-width: 430px;
            margin: 0 auto;
            background: white;
            min-height: 100vh;
            box-shadow: 0 0 20px rgba(0,0,0,0.1);
        }

        .header {
            background: linear-gradient(135deg, #10b981 0%, #059669 100%);
            color: white;
            padding: 20px;
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .logo {
            width: 50px;
            height: 50px;
            background: white;
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
        }

        .app-title {
            font-size: 24px;
            font-weight: 700;
            letter-spacing: -0.5px;
        }

        .toolbar {
            display: flex;
            gap: 10px;
            padding: 15px 20px;
            background: white;
            border-bottom: 1px solid #e5e7eb;
        }

        .icon-btn {
            width: 40px;
            height: 40px;
            border: none;
            background: #f3f4f6;
            border-radius: 10px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 18px;
        }

        .icon-btn:hover {
            background: #e5e7eb;
        }

        .content {
            padding: 20px;
        }

        .section-title {
            font-size: 20px;
            font-weight: 700;
            margin-bottom: 15px;
            color: #111827;
        }

        .system-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
        }

        .system-card {
            background: white;
            padding: 20px;
            border-radius: 16px;
            border: 2px solid #e5e7eb;
            cursor: pointer;
            transition: all 0.2s;
        }

        .system-card:hover {
            border-color: #10b981;
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(16, 185, 129, 0.15);
        }

        .system-card.respiratory { background: #dbeafe; border-color: #93c5fd; }
        .system-card.gastro { background: #fef3c7; border-color: #fcd34d; }
        .system-card.dermato { background: #fecdd3; border-color: #fda4af; }
        .system-card.neuro { background: #e9d5ff; border-color: #d8b4fe; }

        .system-icon {
            font-size: 32px;
            margin-bottom: 10px;
        }

        .system-name {
            font-size: 16px;
            font-weight: 600;
            margin-bottom: 5px;
        }

        .system-count {
            font-size: 13px;
            color: #6b7280;
        }

        .condition-list {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        .condition-item {
            background: white;
            padding: 16px;
            border-radius: 12px;
            border: 1px solid #e5e7eb;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 12px;
            transition: all 0.2s;
        }

        .condition-item:hover {
            border-color: #10b981;
            box-shadow: 0 2px 8px rgba(16, 185, 129, 0.1);
        }

        .condition-icon {
            width: 24px;
            height: 24px;
            color: #9ca3af;
        }

        .condition-content {
            flex: 1;
        }

        .condition-name {
            font-size: 16px;
            font-weight: 600;
            margin-bottom: 4px;
        }

        .condition-desc {
            font-size: 13px;
            color: #6b7280;
        }

        .back-btn {
            background: none;
            border: none;
            font-size: 24px;
            cursor: pointer;
            padding: 10px;
            margin: -10px;
        }

        .detail-header {
            padding: 20px;
            background: white;
            border-bottom: 1px solid #e5e7eb;
        }

        .breadcrumb {
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 14px;
            color: #6b7280;
            margin-bottom: 10px;
        }

        .condition-title {
            font-size: 24px;
            font-weight: 700;
            margin-bottom: 12px;
        }

        .condition-definition {
            font-size: 15px;
            color: #4b5563;
            line-height: 1.5;
        }

        .section-box {
            background: white;
            border-radius: 16px;
            padding: 20px;
            margin-bottom: 20px;
        }

        .section-box.blue { background: #eff6ff; }
        .section-box.green { background: #f0fdf4; }
        .section-box.yellow { background: #fefce8; }
        .section-box.red { background: #fef2f2; }
        .section-box.purple { background: #faf5ff; }

        .section-header {
            display: flex;
            align-items: center;
            gap: 12px;
            margin-bottom: 16px;
        }

        .section-icon {
            width: 40px;
            height: 40px;
            background: white;
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 20px;
        }

        .section-name {
            font-size: 18px;
            font-weight: 700;
        }

        .list-item {
            padding: 8px 0;
            font-size: 15px;
            line-height: 1.5;
            color: #374151;
        }

        .list-item::before {
            content: "‚Ä¢";
            color: #10b981;
            font-weight: bold;
            margin-right: 10px;
        }

        .checkbox-item {
            display: flex;
            align-items: flex-start;
            gap: 12px;
            padding: 12px;
            background: white;
            border-radius: 10px;
            margin-bottom: 8px;
            cursor: pointer;
            transition: all 0.2s;
        }

        .checkbox-item:hover {
            background: #f9fafb;
        }

        .checkbox-item input[type="checkbox"] {
            width: 20px;
            height: 20px;
            margin-top: 2px;
            cursor: pointer;
        }

        .checkbox-label {
            flex: 1;
            font-size: 15px;
            line-height: 1.5;
            cursor: pointer;
        }

        .medication-card {
            background: #f0fdf4;
            border: 2px solid #86efac;
            border-radius: 12px;
            padding: 16px;
            margin-bottom: 12px;
        }

        .medication-name {
            font-size: 18px;
            font-weight: 700;
            color: #065f46;
            margin-bottom: 12px;
        }

        .medication-detail {
            margin-bottom: 8px;
        }

        .medication-label {
            font-size: 12px;
            font-weight: 600;
            color: #047857;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .medication-value {
            font-size: 16px;
            color: #065f46;
            margin-top: 2px;
        }

        .medication-badge {
            display: inline-flex;
            align-items: center;
            gap: 6px;
            background: white;
            padding: 6px 12px;
            border-radius: 6px;
            font-size: 12px;
            color: #047857;
            margin-top: 8px;
        }

        .button {
            width: 100%;
            padding: 14px 20px;
            border: none;
            border-radius: 12px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s;
        }

        .button-primary {
            background: #10b981;
            color: white;
        }

        .button-primary:hover {
            background: #059669;
        }

        .button-secondary {
            background: white;
            color: #10b981;
            border: 2px solid #10b981;
        }

        .button-group {
            display: flex;
            gap: 10px;
            margin-top: 16px;
        }

        .form-group {
            margin-bottom: 16px;
        }

        .form-label {
            display: block;
            font-size: 14px;
            font-weight: 600;
            color: #374151;
            margin-bottom: 8px;
        }

        .form-input {
            width: 100%;
            padding: 12px;
            border: 2px solid #e5e7eb;
            border-radius: 10px;
            font-size: 15px;
            transition: all 0.2s;
        }

        .form-input:focus {
            outline: none;
            border-color: #10b981;
        }

        .input-with-button {
            display: flex;
            gap: 8px;
        }

        .input-with-button .form-input {
            flex: 1;
        }

        .whatsapp-btn {
            padding: 12px 16px;
            background: #25d366;
            color: white;
            border: none;
            border-radius: 10px;
            cursor: pointer;
            font-size: 20px;
        }

        .whatsapp-btn:hover {
            background: #128c7e;
        }

        .modal {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0,0,0,0.5);
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 20px;
            z-index: 1000;
        }

        .modal-content {
            background: white;
            border-radius: 20px;
            padding: 24px;
            max-width: 500px;
            width: 100%;
            max-height: 90vh;
            overflow-y: auto;
        }

        .modal-title {
            font-size: 20px;
            font-weight: 700;
            margin-bottom: 20px;
        }

        .tab-buttons {
            display: flex;
            gap: 8px;
            margin-bottom: 16px;
            overflow-x: auto;
        }

        .tab-button {
            padding: 10px 20px;
            border: 2px solid #e5e7eb;
            background: white;
            border-radius: 10px;
            cursor: pointer;
            white-space: nowrap;
            font-size: 14px;
            font-weight: 600;
        }

        .tab-button.active {
            background: #10b981;
            color: white;
            border-color: #10b981;
        }

        .preview-section {
            background: #f9fafb;
            padding: 16px;
            border-radius: 12px;
            margin-bottom: 12px;
        }

        .preview-title {
            font-size: 14px;
            font-weight: 600;
            color: #6b7280;
            margin-bottom: 8px;
        }

        .preview-item {
            background: white;
            padding: 12px;
            border-radius: 8px;
            margin-bottom: 8px;
            font-size: 14px;
        }

        .alert-box {
            background: #fef2f2;
            border: 2px solid #fca5a5;
            border-radius: 12px;
            padding: 16px;
            margin-bottom: 16px;
        }

        .alert-header {
            display: flex;
            align-items: center;
            gap: 8px;
            color: #dc2626;
            font-weight: 600;
            margin-bottom: 8px;
        }

        .alert-text {
            font-size: 14px;
            color: #991b1b;
        }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const SENHA_CORRETA = "minhasenha";  // ‚Üê SUA SENHA AQUI
        // ========================================
// SISTEMA DE LOGIN - COPIE TODO ESTE C√ìDIGO
// ========================================

// Cole este c√≥digo DENTRO da tag <script type="text/babel">
// Logo ANTES da linha: const { useState } = React;

// CONFIGURA√á√ÉO DA SENHA (MUDE AQUI!)
const SENHA_CORRETA = "farmacia2025";  // ‚Üê MUDE PARA SUA SENHA

// ========================================
// N√ÉO PRECISA MEXER DAQUI PARA BAIXO
// ========================================

function LoginScreen({ onLogin }) {
    const [senha, setSenha] = React.useState('');
    const [erro, setErro] = React.useState(false);
    
    const handleLogin = (e) => {
        e.preventDefault();
        if (senha === SENHA_CORRETA) {
            localStorage.setItem('pharmabook_auth', 'true');
            onLogin();
        } else {
            setErro(true);
            setTimeout(() => setErro(false), 2000);
        }
    };
    
    return (
        <div style={{
            minHeight: '100vh',
            display: 'flex',
            alignItems: 'center',
            justifyContent: 'center',
            background: 'linear-gradient(135deg, #10b981 0%, #059669 100%)',
            padding: '20px'
        }}>
            <div style={{
                background: 'white',
                borderRadius: '20px',
                padding: '40px',
                maxWidth: '400px',
                width: '100%',
                boxShadow: '0 20px 60px rgba(0,0,0,0.3)'
            }}>
                <div style={{
                    textAlign: 'center',
                    marginBottom: '30px'
                }}>
                    <div style={{
                        width: '80px',
                        height: '80px',
                        background: 'linear-gradient(135deg, #10b981 0%, #059669 100%)',
                        borderRadius: '20px',
                        display: 'flex',
                        alignItems: 'center',
                        justifyContent: 'center',
                        fontSize: '40px',
                        margin: '0 auto 20px'
                    }}>üíä</div>
                    <h1 style={{
                        fontSize: '28px',
                        fontWeight: '700',
                        color: '#111827',
                        marginBottom: '8px'
                    }}>PHARMA BOOK</h1>
                    <p style={{
                        fontSize: '14px',
                        color: '#6b7280'
                    }}>Sistema de Prescri√ß√£o Farmac√™utica</p>
                </div>
                
                <form onSubmit={handleLogin}>
                    <div style={{ marginBottom: '20px' }}>
                        <label style={{
                            display: 'block',
                            fontSize: '14px',
                            fontWeight: '600',
                            color: '#374151',
                            marginBottom: '8px'
                        }}>üîê Senha de Acesso</label>
                        <input
                            type="password"
                            value={senha}
                            onChange={(e) => setSenha(e.target.value)}
                            placeholder="Digite a senha"
                            autoFocus
                            style={{
                                width: '100%',
                                padding: '14px',
                                border: erro ? '2px solid #ef4444' : '2px solid #e5e7eb',
                                borderRadius: '10px',
                                fontSize: '16px',
                                outline: 'none',
                                transition: 'all 0.2s'
                            }}
                        />
                        {erro && (
                            <p style={{
                                color: '#ef4444',
                                fontSize: '13px',
                                marginTop: '8px',
                                fontWeight: '500'
                            }}>‚ùå Senha incorreta!</p>
                        )}
                    </div>
                    
                    <button
                        type="submit"
                        style={{
                            width: '100%',
                            padding: '14px',
                            background: 'linear-gradient(135deg, #10b981 0%, #059669 100%)',
                            color: 'white',
                            border: 'none',
                            borderRadius: '10px',
                            fontSize: '16px',
                            fontWeight: '600',
                            cursor: 'pointer',
                            transition: 'all 0.2s'
                        }}
                    >
                        üöÄ ENTRAR
                    </button>
                </form>
                
                <p style={{
                    textAlign: 'center',
                    fontSize: '11px',
                    color: '#9ca3af',
                    marginTop: '20px'
                }}>Acesso restrito ‚Ä¢ Farm√°cia Resumida</p>
            </div>
        </div>
    );
}

        const { useState, useEffect } = React;

        // Dados das condi√ß√µes
        const conditionsData = {
            "alergia-pele": {
                system: "Sistema Dermatol√≥gico",
                name: "Alergia de Pele",
                definition: "Rea√ß√£o de hipersensibilidade cut√¢nea caracterizada por urtic√°ria, prurido e/ou angioedema, causada por exposi√ß√£o a al√©rgenos diversos.",
                causes: [
                    "Alimentos (frutos do mar, amendoim, leite)",
                    "Medicamentos (antibi√≥ticos, AINEs)",
                    "Picadas de inseto",
                    "Contato com subst√¢ncias (l√°tex, n√≠quel, cosm√©ticos)"
                ],
                objectives: [
                    "Aliviar prurido",
                    "Reduzir edema e eritema",
                    "Prevenir progress√£o para anafilaxia",
                    "Identificar e evitar al√©rgeno"
                ],
                symptoms: [
                    "Placas eritematosas elevadas (urtic√°ria)",
                    "Prurido intenso",
                    "Edema localizado ou difuso",
                    "Pode haver sensa√ß√£o de queima√ß√£o"
                ],
                alertSigns: [
                    "Dificuldade respirat√≥ria ou estridor",
                    "Edema de l√≠ngua, l√°bios ou face (angioedema grave)",
                    "Hipotens√£o ou taquicardia",
                    "Rouquid√£o ou sensa√ß√£o de garganta fechando",
                    "Tontura, confus√£o ou s√≠ncope",
                    "Les√µes bolhosas ou descamativas"
                ],
                referralCriteria: [
                    "Qualquer sinal de anafilaxia",
                    "Urtic√°ria persistente >48h apesar de tratamento",
                    "Angioedema progressivo",
                    "Sintomas sist√™micos associados",
                    "Les√µes sugestivas de rea√ß√µes graves (Stevens-Johnson)"
                ],
                medications: [
                    {
                        name: "Loratadina",
                        concentration: "10mg",
                        posology: "1 comprimido ao dia",
                        duration: "At√© 5 dias",
                        mip: true
                    },
                    {
                        name: "Cetirizina",
                        concentration: "10mg",
                        posology: "1 comprimido ao dia",
                        duration: "At√© 5 dias",
                        mip: true
                    },
                    {
                        name: "Dexclorfeniramina",
                        concentration: "2mg",
                        posology: "1 comprimido 3x ao dia",
                        duration: "At√© 5 dias",
                        mip: true
                    }
                ],
                nonPharmacological: [
                    "Compressas frias para al√≠vio do prurido",
                    "Banhos com aveia coloidal",
                    "Evitar co√ßar (risco de les√µes e infec√ß√£o)",
                    "Roupas leves de algod√£o",
                    "Evitar calor e suor excessivo",
                    "Identificar e eliminar gatilho al√©rgeno"
                ],
                patientGuidance: [
                    "Tomar anti-histam√≠nico conforme orientado",
                    "Evitar banhos muito quentes",
                    "Manter di√°rio alimentar se suspeita de alergia alimentar",
                    "Procurar atendimento urgente se houver falta de ar ou incha√ßo de face"
                ],
                expectedImprovement: "Melhora do prurido e redu√ß√£o das les√µes em 24-48h.",
                whenToReturn: "Retornar se n√£o houver melhora em 48h ou se surgirem novos sintomas.",
                emergencyReferral: "Buscar atendimento emergencial imediatamente se desenvolver falta de ar, incha√ßo de l√≠ngua/garganta ou tontura.",
                clinicalPearls: [
                    "Cetirizina pode causar mais sonol√™ncia que loratadina",
                    "Urtic√°ria pode persistir at√© 6 semanas (urtic√°ria cr√¥nica requer investiga√ß√£o)",
                    "Manter epinefrina auto-injet√°vel se hist√≥ria de anafilaxia pr√©via",
                    "Orientar sobre leitura de r√≥tulos de alimentos/medicamentos"
                ]
            },
            "resfriado-comum": {
                system: "Sistema Respirat√≥rio",
                name: "Resfriado Comum",
                definition: "Infec√ß√£o viral aguda e autolimitada das vias a√©reas superiores, causando congest√£o nasal, coriza, espirros e mal-estar.",
                causes: [
                    "Rinov√≠rus (mais comum)",
                    "Coronav√≠rus",
                    "Adenov√≠rus",
                    "V√≠rus Sincicial Respirat√≥rio"
                ],
                objectives: [
                    "Aliviar sintomas nasais",
                    "Reduzir desconforto",
                    "Prevenir complica√ß√µes",
                    "Manter hidrata√ß√£o"
                ],
                symptoms: [
                    "Coriza clara ou espessa",
                    "Congest√£o nasal",
                    "Espirros",
                    "Dor de garganta leve",
                    "Tosse seca",
                    "Mal-estar leve"
                ],
                alertSigns: [
                    "Febre >38.5¬∞C por >3 dias",
                    "Dificuldade respirat√≥ria",
                    "Dor no peito",
                    "Secre√ß√£o nasal purulenta persistente",
                    "Piora ap√≥s 5-7 dias"
                ],
                referralCriteria: [
                    "Sintomas graves ou progressivos",
                    "Febre alta persistente",
                    "Suspeita de sinusite bacteriana",
                    "Imunossuprimidos",
                    "Comorbidades respirat√≥rias"
                ],
                medications: [
                    {
                        name: "Dipirona",
                        concentration: "500mg",
                        posology: "1 comprimido at√© 4x ao dia",
                        duration: "Enquanto houver sintomas (m√°x 5 dias)",
                        mip: true
                    },
                    {
                        name: "Paracetamol",
                        concentration: "750mg",
                        posology: "1 comprimido at√© 4x ao dia",
                        duration: "Enquanto houver sintomas (m√°x 5 dias)",
                        mip: true
                    }
                ],
                nonPharmacological: [
                    "Repouso adequado",
                    "Hidrata√ß√£o abundante (√°gua, ch√°s, sopas)",
                    "Inala√ß√£o com soro fisiol√≥gico",
                    "Lavagem nasal com soro fisiol√≥gico",
                    "Umidifica√ß√£o do ambiente",
                    "Evitar ambientes com ar condicionado muito frio"
                ],
                patientGuidance: [
                    "Cobrir boca e nariz ao tossir/espirrar",
                    "Lavar m√£os frequentemente",
                    "Descartar len√ßos usados adequadamente",
                    "Evitar compartilhar objetos pessoais"
                ],
                expectedImprovement: "Melhora gradual em 7-10 dias. Sintomas mais intensos nos primeiros 3 dias.",
                whenToReturn: "Se piorar ap√≥s 3 dias ou n√£o melhorar em 10 dias.",
                emergencyReferral: "Buscar atendimento se desenvolver falta de ar, febre alta persistente ou confus√£o mental.",
                clinicalPearls: [
                    "Antibi√≥ticos n√£o s√£o indicados (infec√ß√£o viral)",
                    "Vitamina C pode reduzir dura√ß√£o em 1 dia",
                    "Xaropes expectorantes t√™m efic√°cia limitada",
                    "Descongestionantes nasais: usar no m√°ximo 3 dias"
                ]
            },
            "diarreia-aguda": {
                system: "Sistema Gastrointestinal",
                name: "Diarreia Aguda",
                definition: "Aumento da frequ√™ncia evacuat√≥ria (‚â•3 vezes/dia) com fezes amolecidas ou l√≠quidas, de in√≠cio s√∫bito, geralmente autolimitada.",
                causes: [
                    "Infec√ß√µes virais (rotav√≠rus, norov√≠rus)",
                    "Bact√©rias (E. coli, Salmonella, Shigella)",
                    "Intoxica√ß√£o alimentar",
                    "Medicamentos"
                ],
                objectives: [
                    "Prevenir desidrata√ß√£o",
                    "Repor eletr√≥litos",
                    "Reduzir dura√ß√£o dos sintomas",
                    "Evitar complica√ß√µes"
                ],
                symptoms: [
                    "Fezes l√≠quidas ou amolecidas",
                    "C√≥licas abdominais",
                    "N√°useas",
                    "Urg√™ncia evacuat√≥ria"
                ],
                alertSigns: [
                    "Sangue nas fezes",
                    "Febre >38.5¬∞C",
                    "Sinais de desidrata√ß√£o grave",
                    "Dor abdominal intensa",
                    "V√¥mitos persistentes"
                ],
                referralCriteria: [
                    "Diarreia com sangue",
                    "Desidrata√ß√£o moderada a grave",
                    "Dura√ß√£o >3 dias sem melhora",
                    "Grupos de risco (crian√ßas <2 anos, idosos, imunossuprimidos)"
                ],
                medications: [
                    {
                        name: "Sais de Reidrata√ß√£o Oral",
                        concentration: "Sach√™",
                        posology: "1 sach√™ dilu√≠do em 1L √°gua, beber ao longo do dia",
                        duration: "Enquanto houver diarreia",
                        mip: true
                    },
                    {
                        name: "Racecadotrila",
                        concentration: "100mg",
                        posology: "1 c√°psula 3x ao dia",
                        duration: "At√© 3 dias",
                        mip: true
                    }
                ],
                nonPharmacological: [
                    "Hidrata√ß√£o constante (√°gua, √°gua de coco, ch√°s)",
                    "Dieta leve (arroz, banana, ma√ß√£, torradas)",
                    "Evitar leite e derivados temporariamente",
                    "Evitar alimentos gordurosos e condimentados",
                    "Higiene rigorosa das m√£os"
                ],
                patientGuidance: [
                    "Beber pequenos goles frequentemente",
                    "Evitar refrigerantes e sucos industrializados",
                    "Manter higiene adequada",
                    "Observar sinais de desidrata√ß√£o (boca seca, urina escura)"
                ],
                expectedImprovement: "Melhora em 2-3 dias. Hidrata√ß√£o √© fundamental.",
                whenToReturn: "Se n√£o melhorar em 3 dias, piorar ou apresentar desidrata√ß√£o.",
                emergencyReferral: "Buscar atendimento imediato se houver desidrata√ß√£o grave, sangue nas fezes ou febre alta.",
                clinicalPearls: [
                    "SRO √© mais eficaz que √°gua pura",
                    "Probi√≥ticos podem reduzir dura√ß√£o",
                    "Loperamida n√£o √© recomendada em diarreia infecciosa",
                    "Zinc suplementa√ß√£o em crian√ßas reduz gravidade"
                ]
            },
            "cefaleia-tensional": {
                system: "Sistema Neurol√≥gico",
                name: "Cefaleia Tensional",
                definition: "Dor de cabe√ßa prim√°ria caracterizada por dor leve a moderada, em aperto ou press√£o, bilateral, sem sintomas associados graves.",
                causes: [
                    "Estresse e ansiedade",
                    "Tens√£o muscular cervical",
                    "M√° postura",
                    "Priva√ß√£o de sono",
                    "Fadiga visual"
                ],
                objectives: [
                    "Aliviar dor",
                    "Relaxar musculatura",
                    "Identificar gatilhos",
                    "Prevenir cronifica√ß√£o"
                ],
                symptoms: [
                    "Dor bilateral em press√£o/aperto",
                    "Intensidade leve a moderada",
                    "N√£o piora com atividade f√≠sica",
                    "Dura√ß√£o de 30 min a 7 dias"
                ],
                alertSigns: [
                    "In√≠cio s√∫bito e severo ('pior dor da vida')",
                    "Febre, rigidez de nuca",
                    "Altera√ß√µes visuais, neurol√≥gicas ou motoras",
                    "Dor que acorda √† noite",
                    "Mudan√ßa no padr√£o habitual"
                ],
                referralCriteria: [
                    "Sinais de alerta presentes",
                    "Cefaleia refrat√°ria ao tratamento",
                    "Frequ√™ncia >15 dias/m√™s",
                    "Necessidade de investiga√ß√£o"
                ],
                medications: [
                    {
                        name: "Paracetamol",
                        concentration: "750mg",
                        posology: "1 comprimido at√© 4x ao dia",
                        duration: "Conforme necess√°rio (m√°x 3 dias seguidos)",
                        mip: true
                    },
                    {
                        name: "Dipirona",
                        concentration: "500mg",
                        posology: "1 comprimido at√© 4x ao dia",
                        duration: "Conforme necess√°rio (m√°x 3 dias seguidos)",
                        mip: true
                    },
                    {
                        name: "Ibuprofeno",
                        concentration: "400mg",
                        posology: "1 comprimido at√© 3x ao dia",
                        duration: "Conforme necess√°rio (m√°x 3 dias seguidos)",
                        mip: true
                    }
                ],
                nonPharmacological: [
                    "Repouso em ambiente calmo e escuro",
                    "Compressas frias ou quentes no pesco√ßo",
                    "Massagem cervical suave",
                    "T√©cnicas de relaxamento e respira√ß√£o",
                    "Alongamentos cervicais",
                    "Corrigir postura"
                ],
                patientGuidance: [
                    "Evitar uso excessivo de analg√©sicos (risco de cefaleia por abuso)",
                    "Manter rotina de sono regular",
                    "Gerenciar estresse",
                    "Pausas durante trabalho em computador"
                ],
                expectedImprovement: "Al√≠vio em 30min-2h ap√≥s medica√ß√£o.",
                whenToReturn: "Se cefaleia persistir >3 dias, aumentar frequ√™ncia ou n√£o responder ao tratamento.",
                emergencyReferral: "Buscar atendimento urgente se apresentar sinais de alerta.",
                clinicalPearls: [
                    "Uso frequente de analg√©sicos pode causar cefaleia rebote",
                    "Exerc√≠cios regulares previnem epis√≥dios",
                    "Cafe√≠na em excesso pode ser gatilho",
                    "Terapia cognitivo-comportamental √© eficaz"
                ]
            },
            "azia-ma-digestao": {
                system: "Sistema Gastrointestinal",
                name: "Azia e M√° Digest√£o",
                definition: "Sensa√ß√£o de queima√ß√£o retroesternal e/ou desconforto epig√°strico ap√≥s alimenta√ß√£o, geralmente relacionado ao refluxo √°cido ou dispepsia funcional.",
                causes: [
                    "Refluxo gastroesof√°gico",
                    "Alimenta√ß√£o inadequada",
                    "Excesso de gordura/condimentos",
                    "Estresse",
                    "Medicamentos (AINEs)"
                ],
                objectives: [
                    "Aliviar sintomas",
                    "Reduzir acidez g√°strica",
                    "Prevenir recorr√™ncia",
                    "Orientar mudan√ßas de h√°bitos"
                ],
                symptoms: [
                    "Queima√ß√£o retroesternal (pirose)",
                    "Regurgita√ß√£o √°cida",
                    "Desconforto epig√°strico",
                    "Sensa√ß√£o de est√¥mago cheio",
                    "N√°usea leve"
                ],
                alertSigns: [
                    "Dor tor√°cica intensa ou irradiada",
                    "Dificuldade para engolir",
                    "V√¥mitos persistentes ou com sangue",
                    "Perda de peso inexplicada",
                    "Anemia"
                ],
                referralCriteria: [
                    "Sinais de alarme presentes",
                    "Sintomas refrat√°rios >2 semanas",
                    "Necessidade de investiga√ß√£o endosc√≥pica",
                    "Uso cr√¥nico de anti√°cidos sem melhora"
                ],
                medications: [
                    {
                        name: "Omeprazol",
                        concentration: "20mg",
                        posology: "1 c√°psula ao dia em jejum",
                        duration: "At√© 14 dias",
                        mip: true
                    },
                    {
                        name: "Hidr√≥xido de Alum√≠nio + Hidr√≥xido de Magn√©sio",
                        concentration: "Suspens√£o oral",
                        posology: "10ml at√© 4x ao dia",
                        duration: "Conforme necess√°rio (m√°x 7 dias)",
                        mip: true
                    },
                    {
                        name: "Ranitidina",
                        concentration: "150mg",
                        posology: "1 comprimido 2x ao dia",
                        duration: "At√© 14 dias",
                        mip: true
                    }
                ],
                nonPharmacological: [
                    "Evitar deitar logo ap√≥s refei√ß√µes (esperar 2-3h)",
                    "Elevar cabeceira da cama 15-20cm",
                    "Refei√ß√µes menores e mais frequentes",
                    "Evitar alimentos gatilho (frituras, caf√©, chocolate, menta, √°lcool)",
                    "Mastigar bem os alimentos",
                    "Perder peso se necess√°rio",
                    "Evitar roupas apertadas"
                ],
                patientGuidance: [
                    "Tomar omeprazol em jejum, 30min antes do caf√©",
                    "Evitar cigarro e √°lcool",
                    "Identificar alimentos que pioram sintomas",
                    "Reduzir estresse"
                ],
                expectedImprovement: "Melhora em 2-3 dias com medica√ß√£o e mudan√ßas alimentares.",
                whenToReturn: "Se n√£o melhorar em 2 semanas ou sintomas piorarem.",
                emergencyReferral: "Buscar atendimento se dor tor√°cica intensa, v√¥mitos com sangue ou dificuldade de engolir.",
                clinicalPearls: [
                    "Omeprazol: efic√°cia m√°xima ap√≥s 3-4 dias de uso",
                    "Anti√°cidos: al√≠vio r√°pido mas curta dura√ß√£o",
                    "H. pylori pode causar dispepsia (investigar se refrat√°rio)",
                    "Evitar AINEs se poss√≠vel"
                ]
            }
        };

        
       function App() {
    const [autenticado, setAutenticado] = React.useState(
        localStorage.getItem('pharmabook_auth') === 'true'
    );
    
    if (!autenticado) {
        return <LoginScreen onLogin={() => setAutenticado(true)} />;
    }
    
    const [view, setView] = useState('home');  // home, conditions, detail, prescription
            const [selectedSystem, setSelectedSystem] = useState(null);
            const [selectedCondition, setSelectedCondition] = useState(null);
            const [selectedMedications, setSelectedMedications] = useState([]);
            const [selectedNonPharma, setSelectedNonPharma] = useState([]);
            const [selectedGuidance, setSelectedGuidance] = useState([]);
            const [showModal, setShowModal] = useState(false);
            const [modalType, setModalType] = useState(''); // 'patient' or 'pharmacist'
            const [pharmacistData, setPharmacistData] = useState({
                name: '',
                crf: '',
                crfState: '',
                specialty: '',
                whatsapp: ''
            });
            const [patientData, setPatientData] = useState({
                name: '',
                cpf: '',
                birthdate: '',
                phone: ''
            });

            const systems = [
                { id: 'respiratory', name: 'Sistema Respirat√≥rio', icon: 'ü´Å', count: 1, color: 'respiratory' },
                { id: 'gastro', name: 'Sistema Gastrointestinal', icon: 'üîÑ', count: 2, color: 'gastro' },
                { id: 'dermato', name: 'Sistema Dermatol√≥gico', icon: '‚ú®', count: 1, color: 'dermato' },
                { id: 'neuro', name: 'Sistema Neurol√≥gico', icon: 'üß†', count: 1, color: 'neuro' }
            ];

            const conditions = {
                'respiratory': [
                    { id: 'resfriado-comum', name: 'Resfriado Comum', desc: 'Infec√ß√£o viral aguda e autolimitada das vias a√©reas...' }
                ],
                'gastro': [
                    { id: 'diarreia-aguda', name: 'Diarreia Aguda', desc: 'Aumento da frequ√™ncia evacuat√≥ria (‚â•3 vezes/dia)...' },
                    { id: 'azia-ma-digestao', name: 'Azia e M√° Digest√£o', desc: 'Sensa√ß√£o de queima√ß√£o retroesternal e/ou desconforto...' }
                ],
                'dermato': [
                    { id: 'alergia-pele', name: 'Alergia de Pele', desc: 'Rea√ß√£o de hipersensibilidade cut√¢nea caracterizada...' }
                ],
                'neuro': [
                    { id: 'cefaleia-tensional', name: 'Cefaleia Tensional', desc: 'Dor de cabe√ßa prim√°ria caracterizada por dor leve...' }
                ]
            };

            const handleSystemClick = (systemId) => {
                setSelectedSystem(systemId);
                setView('conditions');
            };

            const handleConditionClick = (conditionId) => {
                setSelectedCondition(conditionId);
                setSelectedMedications([]);
                setSelectedNonPharma([]);
                setSelectedGuidance([]);
                setView('detail');
            };

            const toggleMedication = (index) => {
                setSelectedMedications(prev => 
                    prev.includes(index) ? prev.filter(i => i !== index) : [...prev, index]
                );
            };

            const toggleNonPharma = (index) => {
                setSelectedNonPharma(prev => 
                    prev.includes(index) ? prev.filter(i => i !== index) : [...prev, index]
                );
            };

            const toggleGuidance = (index) => {
                setSelectedGuidance(prev => 
                    prev.includes(index) ? prev.filter(i => i !== index) : [...prev, index]
                );
            };

            const openWhatsApp = (phone) => {
                const cleanPhone = phone.replace(/\D/g, '');
                window.open(`https://wa.me/55${cleanPhone}`, '_blank');
            };

            const generatePDF = () => {
                const { jsPDF } = window.jspdf;
                const doc = new jsPDF();
                const condition = conditionsData[selectedCondition];
                
                // Logo e T√≠tulo
                doc.setFillColor(16, 185, 129);
                doc.rect(0, 0, 210, 40, 'F');
                doc.setTextColor(255, 255, 255);
                doc.setFontSize(24);
                doc.setFont(undefined, 'bold');
                doc.text('PHARMA BOOK', 105, 20, { align: 'center' });
                doc.setFontSize(12);
                doc.text('Prescri√ß√£o Farmac√™utica', 105, 28, { align: 'center' });
                
                doc.setTextColor(0, 0, 0);
                let y = 50;

                // Dados do Farmac√™utico
                doc.setFontSize(14);
                doc.setFont(undefined, 'bold');
                doc.text('FARMAC√äUTICO', 20, y);
                y += 8;
                doc.setFontSize(10);
                doc.setFont(undefined, 'normal');
                doc.text(`Nome: ${pharmacistData.name}`, 20, y);
                y += 6;
                doc.text(`CRF: ${pharmacistData.crf}/${pharmacistData.crfState}`, 20, y);
                y += 6;
                doc.text(`Especialidade: ${pharmacistData.specialty}`, 20, y);
                y += 10;

                // Dados do Paciente
                doc.setFont(undefined, 'bold');
                doc.setFontSize(14);
                doc.text('PACIENTE', 20, y);
                y += 8;
                doc.setFontSize(10);
                doc.setFont(undefined, 'normal');
                doc.text(`Nome: ${patientData.name}`, 20, y);
                y += 6;
                doc.text(`CPF: ${patientData.cpf}`, 20, y);
                y += 6;
                doc.text(`Data de Nascimento: ${patientData.birthdate}`, 20, y);
                y += 6;
                doc.text(`Telefone: ${patientData.phone}`, 20, y);
                y += 10;

                // Prescri√ß√£o
                doc.setFont(undefined, 'bold');
                doc.setFontSize(14);
                doc.text('PRESCRI√á√ÉO', 20, y);
                y += 8;
                
                doc.setFont(undefined, 'bold');
                doc.setFontSize(12);
                doc.text(`Condi√ß√£o: ${condition.name}`, 20, y);
                y += 8;

                // Medicamentos
                if (selectedMedications.length > 0) {
                    doc.setFont(undefined, 'bold');
                    doc.setFontSize(11);
                    doc.text('MEDICAMENTOS:', 20, y);
                    y += 6;
                    doc.setFont(undefined, 'normal');
                    doc.setFontSize(10);
                    
                    selectedMedications.forEach(index => {
                        const med = condition.medications[index];
                        doc.text(`‚Ä¢ ${med.name} ${med.concentration}`, 25, y);
                        y += 5;
                        doc.text(`  ${med.posology} - ${med.duration}`, 25, y);
                        y += 7;
                    });
                }

                // Orienta√ß√µes N√£o Farmacol√≥gicas
                if (selectedNonPharma.length > 0) {
                    y += 3;
                    doc.setFont(undefined, 'bold');
                    doc.setFontSize(11);
                    doc.text('ORIENTA√á√ïES N√ÉO FARMACOL√ìGICAS:', 20, y);
                    y += 6;
                    doc.setFont(undefined, 'normal');
                    doc.setFontSize(10);
                    
                    selectedNonPharma.forEach(index => {
                        const text = condition.nonPharmacological[index];
                        doc.text(`‚Ä¢ ${text}`, 25, y);
                        y += 6;
                    });
                }

                // Orienta√ß√µes ao Paciente
                if (selectedGuidance.length > 0) {
                    y += 3;
                    doc.setFont(undefined, 'bold');
                    doc.setFontSize(11);
                    doc.text('ORIENTA√á√ïES AO PACIENTE:', 20, y);
                    y += 6;
                    doc.setFont(undefined, 'normal');
                    doc.setFontSize(10);
                    
                    selectedGuidance.forEach(index => {
                        const text = condition.patientGuidance[index];
                        doc.text(`‚Ä¢ ${text}`, 25, y);
                        y += 6;
                    });
                }

                // Disclaimer
                y += 10;
                doc.setFontSize(8);
                doc.setTextColor(100, 100, 100);
                const disclaimer = "Este documento constitui orienta√ß√£o farmac√™utica conforme Resolu√ß√£o CFF 586/2013. N√£o substitui prescri√ß√£o m√©dica. Medicamentos isentos de prescri√ß√£o (MIP) validados pela ANVISA.";
                const splitDisclaimer = doc.splitTextToSize(disclaimer, 170);
                doc.text(splitDisclaimer, 20, y);

                // Data
                const today = new Date().toLocaleDateString('pt-BR');
                doc.text(`Data: ${today}`, 20, 280);

                doc.save('prescricao-pharmabook.pdf');
            };

            const canGeneratePDF = () => {
                return pharmacistData.name && pharmacistData.crf && 
                       patientData.name && patientData.cpf &&
                       (selectedMedications.length > 0 || selectedNonPharma.length > 0);
            };

            // Render Home
            if (view === 'home') {
                return (
                    <div className="app-container">
                        <div className="header">
                            <div className="logo">üíä</div>
                            <div className="app-title">PHARMA BOOK</div>
                        </div>
                        <div className="content">
                            <div className="section-title">Sistemas do Corpo</div>
                            <div className="system-grid">
                                {systems.map(system => (
                                    <div 
                                        key={system.id}
                                        className={`system-card ${system.color}`}
                                        onClick={() => handleSystemClick(system.id)}
                                    >
                                        <div className="system-icon">{system.icon}</div>
                                        <div className="system-name">{system.name}</div>
                                        <div className="system-count">{system.count} condi√ß√µes</div>
                                    </div>
                                ))}
                            </div>
                        </div>
                    </div>
                );
            }

            // Render Conditions List
            if (view === 'conditions') {
                const systemData = systems.find(s => s.id === selectedSystem);
                return (
                    <div className="app-container">
                        <div className="header">
                            <button className="back-btn" onClick={() => setView('home')}>‚Üê</button>
                            <div className="logo">üíä</div>
                            <div className="app-title">PHARMA BOOK</div>
                        </div>
                        <div className="content">
                            <div className="breadcrumb">
                                <span>{systemData.icon} {systemData.name}</span>
                            </div>
                            <div className="section-title">Todas as Condi√ß√µes ({systemData.count})</div>
                            <div className="condition-list">
                                {conditions[selectedSystem].map(condition => (
                                    <div 
                                        key={condition.id}
                                        className="condition-item"
                                        onClick={() => handleConditionClick(condition.id)}
                                    >
                                        <div className="condition-icon">üìã</div>
                                        <div className="condition-content">
                                            <div className="condition-name">{condition.name}</div>
                                            <div className="condition-desc">{condition.desc}</div>
                                        </div>
                                        <div>‚Üí</div>
                                    </div>
                                ))}
                            </div>
                        </div>
                    </div>
                );
            }

            // Render Condition Detail
            if (view === 'detail' && selectedCondition) {
                const condition = conditionsData[selectedCondition];
                
                return (
                    <div className="app-container">
                        <div className="header">
                            <button className="back-btn" onClick={() => setView('conditions')}>‚Üê</button>
                            <div className="logo">üíä</div>
                            <div className="app-title">PHARMA BOOK</div>
                        </div>
                        <div className="detail-header">
                            <div className="breadcrumb">
                                <span>‚ú® {condition.system}</span>
                            </div>
                            <div className="condition-title">{condition.name}</div>
                            <div className="condition-definition">{condition.definition}</div>
                        </div>
                        
                        <div className="content">
                            {/* Alicerce */}
                            <div className="section-box yellow">
                                <div className="section-header">
                                    <div className="section-icon">üí°</div>
                                    <div className="section-name">Alicerce</div>
                                </div>
                                <div>
                                    <strong>Causas Principais</strong>
                                    {condition.causes.map((cause, i) => (
                                        <div key={i} className="list-item">{cause}</div>
                                    ))}
                                </div>
                            </div>

                            {/* Cl√≠nica */}
                            <div className="section-box blue">
                                <div className="section-header">
                                    <div className="section-icon">ü©∫</div>
                                    <div className="section-name">Cl√≠nica</div>
                                </div>
                                <div>
                                    <strong>Objetivos do Tratamento</strong>
                                    {condition.objectives.map((obj, i) => (
                                        <div key={i} className="list-item">{obj}</div>
                                    ))}
                                </div>
                                <div style={{marginTop: '16px'}}>
                                    <strong>Sintomas Caracter√≠sticos</strong>
                                    {condition.symptoms.map((symptom, i) => (
                                        <div key={i} className="list-item">{symptom}</div>
                                    ))}
                                </div>
                            </div>

                            {/* Sinais de Alerta */}
                            <div className="alert-box">
                                <div className="alert-header">
                                    <span>‚ö†Ô∏è</span>
                                    <span>Sinais de Alerta (Checklist)</span>
                                </div>
                                <div className="alert-text">Verifique cada item antes de prosseguir com a prescri√ß√£o</div>
                                {condition.alertSigns.map((sign, i) => (
                                    <div key={i} className="checkbox-item">
                                        <input type="checkbox" />
                                        <label className="checkbox-label">{sign}</label>
                                    </div>
                                ))}
                            </div>

                            <div className="section-box yellow">
                                <div className="section-header">
                                    <div className="section-icon">‚Üí</div>
                                    <div className="section-name">Crit√©rios de Encaminhamento ao M√©dico</div>
                                </div>
                                {condition.referralCriteria.map((criteria, i) => (
                                    <div key={i} className="list-item">{criteria}</div>
                                ))}
                            </div>

                            {/* Conduta Farmac√™utica */}
                            <div className="section-box green">
                                <div className="section-header">
                                    <div className="section-icon">üíä</div>
                                    <div className="section-name">Conduta Farmac√™utica</div>
                                </div>
                                
                                <strong>üìã Op√ß√µes de Prescri√ß√£o (MIPs)</strong>
                                <div style={{marginTop: '12px'}}>
                                    {condition.medications.map((med, index) => (
                                        <div key={index} className="checkbox-item" onClick={() => toggleMedication(index)}>
                                            <input 
                                                type="checkbox" 
                                                checked={selectedMedications.includes(index)}
                                                onChange={() => {}}
                                            />
                                            <div className="checkbox-label">
                                                <div className="medication-card">
                                                    <div className="medication-name">{med.name}</div>
                                                    <div className="medication-detail">
                                                        <div className="medication-label">Concentra√ß√£o</div>
                                                        <div className="medication-value">{med.concentration}</div>
                                                    </div>
                                                    <div className="medication-detail">
                                                        <div className="medication-label">Posologia</div>
                                                        <div className="medication-value">{med.posology}</div>
                                                    </div>
                                                    <div className="medication-detail">
                                                        <div className="medication-label">Dura√ß√£o</div>
                                                        <div className="medication-value">{med.duration}</div>
                                                    </div>
                                                    {med.mip && (
                                                        <div className="medication-badge">
                                                            üõ°Ô∏è Medicamento validado como MIP pela ANVISA
                                                        </div>
                                                    )}
                                                </div>
                                            </div>
                                        </div>
                                    ))}
                                </div>
                            </div>

                            {/* Medidas N√£o Farmacol√≥gicas */}
                            <div className="section-box green">
                                <div className="section-header">
                                    <div className="section-icon">üíö</div>
                                    <div className="section-name">Medidas N√£o Farmacol√≥gicas</div>
                                </div>
                                {condition.nonPharmacological.map((measure, index) => (
                                    <div key={index} className="checkbox-item" onClick={() => toggleNonPharma(index)}>
                                        <input 
                                            type="checkbox" 
                                            checked={selectedNonPharma.includes(index)}
                                            onChange={() => {}}
                                        />
                                        <label className="checkbox-label">{measure}</label>
                                    </div>
                                ))}
                            </div>

                            {/* Orienta√ß√µes ao Paciente */}
                            <div className="section-box blue">
                                <div className="section-header">
                                    <div className="section-icon">üí¨</div>
                                    <div className="section-name">Orienta√ß√µes ao Paciente</div>
                                </div>
                                {condition.patientGuidance.map((guidance, index) => (
                                    <div key={index} className="checkbox-item" onClick={() => toggleGuidance(index)}>
                                        <input 
                                            type="checkbox" 
                                            checked={selectedGuidance.includes(index)}
                                            onChange={() => {}}
                                        />
                                        <label className="checkbox-label">{guidance}</label>
                                    </div>
                                ))}
                            </div>

                            {/* Retorno √† Farm√°cia */}
                            <div className="section-box blue">
                                <div className="section-header">
                                    <div className="section-icon">üïê</div>
                                    <div className="section-name">Retorno √† Farm√°cia</div>
                                </div>
                                <div style={{marginBottom: '12px'}}>
                                    <strong>Melhora Esperada</strong>
                                    <div className="list-item">{condition.expectedImprovement}</div>
                                </div>
                                <div style={{marginBottom: '12px'}}>
                                    <strong>Quando Retornar</strong>
                                    <div className="list-item">{condition.whenToReturn}</div>
                                </div>
                                <div>
                                    <strong>Interromper e Encaminhar</strong>
                                    <div className="list-item">{condition.emergencyReferral}</div>
                                </div>
                            </div>

                            {/* P√≠lulas Cl√≠nicas */}
                            <div className="section-box purple">
                                <div className="section-header">
                                    <div className="section-icon">üí°</div>
                                    <div className="section-name">P√≠lulas Cl√≠nicas</div>
                                </div>
                                {condition.clinicalPearls.map((pearl, i) => (
                                    <div key={i} className="list-item">{pearl}</div>
                                ))}
                            </div>

                            {/* Bot√£o Gerar Prescri√ß√£o */}
                            <button 
                                className="button button-primary"
                                onClick={() => setView('prescription')}
                                disabled={selectedMedications.length === 0 && selectedNonPharma.length === 0}
                                style={{opacity: (selectedMedications.length === 0 && selectedNonPharma.length === 0) ? 0.5 : 1}}
                            >
                                + Ver Op√ß√µes e Gerar Prescri√ß√£o
                            </button>
                        </div>
                    </div>
                );
            }

            // Render Prescription View
            if (view === 'prescription' && selectedCondition) {
                const condition = conditionsData[selectedCondition];
                
                return (
                    <div className="app-container">
                        <div className="header">
                            <button className="back-btn" onClick={() => setView('detail')}>‚Üê</button>
                            <div className="logo">üíä</div>
                            <div className="app-title">PHARMA BOOK</div>
                        </div>
                        
                        <div className="content">
                            <div className="section-title">Prescri√ß√£o - {condition.name}</div>
                            
                            {/* Preview da Prescri√ß√£o */}
                            {selectedMedications.length > 0 && (
                                <div className="preview-section">
                                    <div className="preview-title">MEDICAMENTOS SELECIONADOS</div>
                                    {selectedMedications.map(index => {
                                        const med = condition.medications[index];
                                        return (
                                            <div key={index} className="preview-item">
                                                <strong>{med.name} {med.concentration}</strong><br/>
                                                {med.posology} - {med.duration}
                                            </div>
                                        );
                                    })}
                                </div>
                            )}

                            {selectedNonPharma.length > 0 && (
                                <div className="preview-section">
                                    <div className="preview-title">MEDIDAS N√ÉO FARMACOL√ìGICAS</div>
                                    {selectedNonPharma.map(index => (
                                        <div key={index} className="preview-item">
                                            ‚Ä¢ {condition.nonPharmacological[index]}
                                        </div>
                                    ))}
                                </div>
                            )}

                            {selectedGuidance.length > 0 && (
                                <div className="preview-section">
                                    <div className="preview-title">ORIENTA√á√ïES AO PACIENTE</div>
                                    {selectedGuidance.map(index => (
                                        <div key={index} className="preview-item">
                                            ‚Ä¢ {condition.patientGuidance[index]}
                                        </div>
                                    ))}
                                </div>
                            )}

                            {/* Formul√°rio Farmac√™utico */}
                            <div className="section-box green" style={{marginTop: '20px'}}>
                                <div className="section-name" style={{marginBottom: '16px'}}>Dados do Farmac√™utico</div>
                                
                                <div className="form-group">
                                    <label className="form-label">Nome</label>
                                    <input 
                                        type="text" 
                                        className="form-input"
                                        value={pharmacistData.name}
                                        onChange={(e) => setPharmacistData({...pharmacistData, name: e.target.value})}
                                        placeholder="Nome completo"
                                    />
                                </div>

                                <div className="form-group">
                                    <label className="form-label">CRF</label>
                                    <div style={{display: 'flex', gap: '8px'}}>
                                        <input 
                                            type="text" 
                                            className="form-input"
                                            style={{flex: 2}}
                                            value={pharmacistData.crf}
                                            onChange={(e) => setPharmacistData({...pharmacistData, crf: e.target.value})}
                                            placeholder="N√∫mero"
                                        />
                                        <input 
                                            type="text" 
                                            className="form-input"
                                            style={{flex: 1}}
                                            value={pharmacistData.crfState}
                                            onChange={(e) => setPharmacistData({...pharmacistData, crfState: e.target.value})}
                                            placeholder="UF"
                                            maxLength="2"
                                        />
                                    </div>
                                </div>

                                <div className="form-group">
                                    <label className="form-label">Especialidade</label>
                                    <input 
                                        type="text" 
                                        className="form-input"
                                        value={pharmacistData.specialty}
                                        onChange={(e) => setPharmacistData({...pharmacistData, specialty: e.target.value})}
                                        placeholder="Ex: Farm√°cia Cl√≠nica"
                                    />
                                </div>

                                <div className="form-group">
                                    <label className="form-label">WhatsApp</label>
                                    <div className="input-with-button">
                                        <input 
                                            type="tel" 
                                            className="form-input"
                                            value={pharmacistData.whatsapp}
                                            onChange={(e) => setPharmacistData({...pharmacistData, whatsapp: e.target.value})}
                                            placeholder="(00) 00000-0000"
                                        />
                                        <button 
                                            className="whatsapp-btn"
                                            onClick={() => openWhatsApp(pharmacistData.whatsapp)}
                                            disabled={!pharmacistData.whatsapp}
                                        >
                                            üì±
                                        </button>
                                    </div>
                                </div>
                            </div>

                            {/* Formul√°rio Paciente */}
                            <div className="section-box blue" style={{marginTop: '20px'}}>
                                <div className="section-name" style={{marginBottom: '16px'}}>Dados do Paciente</div>
                                
                                <div className="form-group">
                                    <label className="form-label">Nome Completo</label>
                                    <input 
                                        type="text" 
                                        className="form-input"
                                        value={patientData.name}
                                        onChange={(e) => setPatientData({...patientData, name: e.target.value})}
                                        placeholder="Nome completo"
                                    />
                                </div>

                                <div className="form-group">
                                    <label className="form-label">CPF</label>
                                    <input 
                                        type="text" 
                                        className="form-input"
                                        value={patientData.cpf}
                                        onChange={(e) => setPatientData({...patientData, cpf: e.target.value})}
                                        placeholder="000.000.000-00"
                                    />
                                </div>

                                <div className="form-group">
                                    <label className="form-label">Data de Nascimento</label>
                                    <input 
                                        type="date" 
                                        className="form-input"
                                        value={patientData.birthdate}
                                        onChange={(e) => setPatientData({...patientData, birthdate: e.target.value})}
                                    />
                                </div>

                                <div className="form-group">
                                    <label className="form-label">Telefone</label>
                                    <div className="input-with-button">
                                        <input 
                                            type="tel" 
                                            className="form-input"
                                            value={patientData.phone}
                                            onChange={(e) => setPatientData({...patientData, phone: e.target.value})}
                                            placeholder="(00) 00000-0000"
                                        />
                                        <button 
                                            className="whatsapp-btn"
                                            onClick={() => openWhatsApp(patientData.phone)}
                                            disabled={!patientData.phone}
                                        >
                                            üì±
                                        </button>
                                    </div>
                                </div>
                            </div>

                            {/* Bot√µes de A√ß√£o */}
                            <div style={{marginTop: '24px'}}>
                                <button 
                                    className="button button-primary"
                                    onClick={generatePDF}
                                    disabled={!canGeneratePDF()}
                                    style={{opacity: canGeneratePDF() ? 1 : 0.5}}
                                >
                                    üìÑ Gerar PDF da Prescri√ß√£o
                                </button>
                            </div>
                        </div>
                    </div>
                );
            }

            return null;
        }

        ReactDOM.render(<App />, document.getElementById('root'));
    </script>
</body>
</html>
